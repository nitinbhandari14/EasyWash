<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Test 2</title>
</head>
<body>

<script th:inline="javascript">
window.onload = function() {
    var pontos = [[${pontos}]] ;
    pontos.forEach(myFunction);
    function myFunction(value, index, array) {
    	console.log(value); 
    }   
    
    var dontos = [[${dontos}]] ;
    dontos.forEach(myFunction);
    function myFunction(value, index, array) {
    	console.log(value); 
    }   
    var chart = new CanvasJS.Chart("chartContainer", {
    	animationEnabled: true,
    	theme: "light2",
    	title:{
    		text: "Customer Analysis"
    	},
    	axisY:{
    		includeZero: false,
    		title: "Number of Customers",
    		crosshair: {
    			enabled: true,
    			snapToDataPoint: true
    		}
    	},
    	axisX:{
    		valueFormatString: "DD MMM YYYY"
    		
    		
    		
    	},
    	toolTip:{
    		shared:true
    	}, 
    	legend:{
    		cursor:"pointer",
    		verticalAlign: "bottom",
    		horizontalAlign: "left",
    		dockInsidePlotArea: true,
    		itemclick: toogleDataSeries
    		
    	},
    
    	data: [{    
    		
    		type: "line",  
    		showInLegend: true,
    		name: "Prospect",
    		markerType: "square",
    		xValueType: "dateTime",
    		xValueFormatString: "DD MMM YYYY",
    		
    		
    		yValueFormatString: "#,##0 Package",
    		dataPoints: [pontos]},{
    			
    			type: "line",  
        		showInLegend: true,
        		name: "Lead",
        		lineDashType: "dash",
        		xValueType: "dateTime",
        		xValueFormatString: "DD MMM YYYY",
        		
        		dataPoints: [dontos]}
    			
    	]
    });
   
    chart.options.data[0].dataPoints = pontos;	
    chart.options.data[1].dataPoints = dontos;	
    		 chart.render();
    	

    	    		function toogleDataSeries(e){
    	    			if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
    	    				e.dataSeries.visible = false;
    	    			} else{
    	    				e.dataSeries.visible = true;
    	    			}
    	    			chart.render();
    	    		}
    	
}	
</script>    
    <div id="chartContainer" style="height: 200px; width: 90%;"></div>
     <div id="chartContainer1" style="height: 200px; width: 90%;"></div>
	
	<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
	<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</body>
</html>
